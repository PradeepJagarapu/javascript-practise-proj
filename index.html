
<html>
<head>
    <script>
        var emp1={
                empId:"TMF1011",
                firstName:"Antony",
                lastName:"David",
                designation:"Manager",
                empAge:"42",
                phno:"7698790",
                email:"lee@gmail.com"
            };
            var emp2={
                empId:"TMF1012",
                firstName:"Martin",
                lastName:"Luther",
                designation:"Lead",
                phno:"673547879",
                email:"martin@gmail.com",
            //     address:{
            //     dno:"123-123",
            //     street:"xyz street",
            //     city:"vizag",
            //     state:"andhra",
            //     contry:"India"
            // }
            }
            var empData = [
                                ["TMF1011", "Antony", "David", "Manager", "42", "7698790", "lee@gmail.com"],
                                ["TMF1012", "Sarah", "Johnson", "Developer", "29", "9876543", "sarah.johnson@example.com"],
                                ["TMF1013", "John", "Williams", "Tester", "33", "8765432", "john.w@example.com"],
                                ["TMF1014", "Emily","HR", "38", "7654321", "emily.brown@example.com"],
                                ["TMF1015", "Michael", "Smith", "Developer", "26", "6543210", "michael.smith@example.com"],
                                ["TMF1016", "Jessica", "Davis", "Manager", "41", "5432109", "jessica.davis@example.com"],
                                ["TMF1017", "David", "Miller", "Support", "30", "4321098", "david.miller@example.com"],
                                ["TMF1018", "Ashley", "Wilson", "Developer", "27", "3210987", "ashley.wilson@example.com"],
                                ["TMF1019", "Daniel", "Moore", "Tester", "31", "2109876", "daniel.moore@example.com"],
                                ["TMF1020", "Olivia", "Taylor", "HR", "35", "1098765", "olivia.taylor@example.com"],
                                ["TMF1021", "Chris", "Anderson", "Support", "28", "9988776", "chris.anderson@example.com"],
                                ["TMF1022", "Sophia", "Thomas", "Developer", "24", "8877665", "sophia.thomas@example.com"],
                                ["TMF1023", "Matthew", "Jackson", "Manager", "44", "7766554", "matthew.jackson@example.com"],
                                ["TMF1024", "Chloe", "White", "HR", "37", "6655443", "chloe.white@example.com"],
                                ["TMF1025", "Ethan", "Harris", "Developer", "32", "5544332", "ethan.harris@example.com"],
                                ["TMF1026", "Grace", "Martin", "Support", "29", "4433221", "grace.martin@example.com"]
                    ];
            var empTableHeadings=["Emp ID","First Name","Last Name","Designation","Age","Phone Number","Email"];
            var empProperties=["empId","firstName","lastName","designation","empAge","phno","email"];
            var empList=[];
            for(i=0;i<empData.length;i++){
                var tempEmpObj={};
                tempEmpObj.empId=empData[i][0];
                tempEmpObj.firstName=empData[i][1];
                tempEmpObj.lastName=empData[i][2];
                tempEmpObj.designation=empData[i][3];
                tempEmpObj.empAge=empData[i][4];
                tempEmpObj.phno=empData[i][5];
                tempEmpObj.email=empData[i][6];
                empList[i]=tempEmpObj;
            }

            //var empList=[emp1,emp2,"SATYA"];
            // var addr1={
            //     dno:"123-123",
            //     street:"xyz street",
            //     city:"vizag",
            //     state:"andhra",
            //     contry:"India"
            // }
    </script>
    <script>
        console.log("TEST::TEST");

        function test(a,b,c,d,e,f){

        }
        
        function designationSearch(){
            var designationSearchTxt= document.getElementById("empDesig").value;
            var filteredEmpData=[];

            empList.forEach(function(emp){
                if((emp.designation).includes(designationSearchTxt)){
                    filteredEmpData.push(emp);
                }
            })

            empRecordsDisplay(filteredEmpData);
        }

        function doSearch(){
            
            console.log("doSearch function has been called");
            //1.b. fetch the text types/entered by user and store in a variable
            var empIdSearchTxt= document.getElementById("empId").value;
            var empAge= document.getElementById("empAge").value;

            //2 get all employee id and respective details
            
            //3. run a loop to compare and find the matching employee details.
            // for(i=0;i<empList.length;i++){
            //    if(empIdSearchTxt == empList[i].empId){
            //     alert(empList[i].firstName+"::"+empList[i].lastName);
            //    }
            //    if(empList[i].empId.includes(empIdSearchTxt)){
            //     alert(empList[i].firstName+"::"+empList[i].lastName);
            //    }
            // }

            for(i=0;i<empList.length;i++){
                if(empList[i].empAge > empAge){
                    alert(empList[i].firstName+"::"+empList[i].lastName);
                }
            }


        }
    </script>
</head>

<body>
    
    <h2> Search for an Employee:</h2>
    <table>
        <tr>
            <td style="color:red"><span>EmpID:</span></td><td><input type="text" id="empId" name="test" /></td>
            <td>Designation:</td><td><input type="text" id="empDesig" name="test"/></td>
            <td>Age:</td><td><input type="text" id="empAge" name="test"/></td>
        </tr>
        <tr>
            <td>First Name:</td><td><input type="text" id="empFirstName" name="test"/></td>
            <td>Last Name:</td><td><input type="text" id="empLastName" name=""/></td>
        </tr>
        <tr>
            <td>Contact:</td><td><input type="text" id="empPhNo" name=""/></td>
            <td>email:</td><td><input type="text" id="empEmail" name=""/></td>
        </tr>

        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td><button onclick="designationSearch()">Search</button></td>
        </tr>
    </table>
    
    <div id="empListTable">

    </div>
    <script>

    </script>
</body>
<script>
    
    
    /*
    //0.create data
    //1.a.render the html from JS List obj
    var tableDiv = document.getElementById("empListTable");
    var empTable=document.createElement("table");
    
    //table headings 
    var headtr=document.createElement("tr");
    empTableHeadings.forEach(function(heading){
        var th=document.createElement("th");
        th.textContent=heading;
        headtr.appendChild(th);
    });
    empTable.appendChild(headtr);

    // empTable.appendChild(empTr);
    // tableDiv.appendChild(empTable);
    for(i=0;i<empList.length;i++){
        var empTr = document.createElement("tr");
        var empTempObj = empList[i];
        var empPropList = Object.keys(empTempObj);
        for(j=0;j<empPropList.length;j++){
            var empTd = document.createElement("td");
            empTd.innerText = empTempObj[empPropList[j]];
            empTr.appendChild(empTd);
        }
        empTable.appendChild(empTr);
    }
    tableDiv.appendChild(empTable);
    empTable.style.border = "1px solid black";
    empTable.style.width = "100%";
    empTable.style.textAlign = "center";
    empTable.style.setProperty("border-collapse","collapse");

    var allTds=empTable.querySelectorAll("td,th");
    allTds.forEach(function(tag){
        tag.style.border="1px solid black";
        tag.style.borderCollapse="collapse";
    })
    */
</script>
<script>
    function empRecordsDisplay(empList){
            //0.create data
        //1.a.render the html from JS List obj
        var tableDiv = document.getElementById("empListTable");
        tableDiv.innerHTML="";

        var empTable=document.createElement("table");
        
        //table headings 
        var headtr=document.createElement("tr");
        empTableHeadings.forEach(function(heading){
            var th=document.createElement("th");
            th.textContent=heading;
            headtr.appendChild(th);
        });
        empTable.appendChild(headtr);

        // empTable.appendChild(empTr);
        // tableDiv.appendChild(empTable);
        for(i=0;i<empList.length;i++){
            var empTr = document.createElement("tr");
            var empTempObj = empList[i];
            // var empPropList = Object.keys(empTempObj);
            // for(j=0;j<empPropList.length;j++){
            //     var empTd = document.createElement("td");
            //     empTd.innerText = empTempObj[empPropList[j]];
            //     empTr.appendChild(empTd);
            // }

            empProperties.forEach(function(key){
                var empTd = document.createElement("td");
                empTd.innerText = empTempObj[key];
                empTr.appendChild(empTd);
            })
            empTable.appendChild(empTr);
        }
        tableDiv.appendChild(empTable);
        empTable.style.border = "1px solid black";
        empTable.style.width = "100%";
        empTable.style.textAlign = "center";
        empTable.style.setProperty("border-collapse","collapse");

        var allTds=empTable.querySelectorAll("td,th");
        allTds.forEach(function(tag){
            tag.style.border="1px solid black";
            tag.style.borderCollapse="collapse";
        })
    }

    empRecordsDisplay(empList);
</script>
</html>